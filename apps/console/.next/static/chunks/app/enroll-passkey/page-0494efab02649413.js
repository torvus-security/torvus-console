(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[965],{1026:(e,s,l)=>{Promise.resolve().then(l.bind(l,7338))},7338:(e,s,l)=>{"use strict";l.d(s,{EnrollmentForm:()=>o});var n=l(2527),a=l(9718);let r={ok:!1,message:"Begin passkey enrollment to unlock Torvus Console."};function o(e){let{action:s}=e,[l,o,t]=(0,a.useActionState)(s,r);return(0,n.jsxs)("section",{className:"panel","aria-labelledby":"enroll-heading",children:[(0,n.jsxs)("div",{className:"panel__header",children:[(0,n.jsx)("h2",{id:"enroll-heading",children:"Enroll passkey"}),(0,n.jsx)("span",{className:"tag subtle",children:"Required"})]}),(0,n.jsxs)("form",{action:o,className:"enroll-form",children:[(0,n.jsx)("p",{children:"Torvus requires platform staff to enroll a platform-managed passkey. Confirm possession of your FIDO2 key and follow the prompts. TOTP fallback is only permitted when the security admin toggles the override flag."}),(0,n.jsxs)("label",{className:"checkbox",children:[(0,n.jsx)("input",{type:"checkbox",name:"acknowledged",required:!0,disabled:t}),(0,n.jsx)("span",{children:"I understand this enrollment is mandatory and agree to audit logging."})]}),(0,n.jsxs)("label",{className:"checkbox",children:[(0,n.jsx)("input",{type:"checkbox",name:"requestTotp",disabled:t}),(0,n.jsx)("span",{children:"Request TOTP fallback (requires security_admin approval)."})]}),(0,n.jsx)("button",{type:"submit",className:"button primary",disabled:t,children:t?"Enrollingâ€¦":"Begin enrollment"})]}),(0,n.jsxs)("div",{className:l.ok?"enroll-result success":"enroll-result",role:"status",children:[(0,n.jsx)("strong",{children:l.ok?"Enrollment complete":"Action required"}),(0,n.jsx)("p",{children:l.message})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[225,17,744],()=>s(1026)),_N_E=e.O()}]);